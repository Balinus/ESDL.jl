<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>DAT · ESDL.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../index.html"><img class="logo" src="../../assets/logo.png" alt="ESDL.jl logo"/></a><h1>ESDL.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Manual</span><ul><li><a class="toctext" href="../../thecube/">The ESDL Data Cube</a></li><li><a class="toctext" href="../../cube_access/">Accessing the Data Cube</a></li><li><a class="toctext" href="../../analysis/">Analysis</a></li><li><a class="toctext" href="../../plotting/">Plotting</a></li><li><a class="toctext" href="../../iotools/">Loading and saving results</a></li></ul></li><li><span class="toctext">Library</span><ul><li><a class="toctext" href="../cubeapi/">CubeAPI</a></li><li><a class="toctext" href="../proc/">Proc</a></li><li class="current"><a class="toctext" href>DAT</a><ul class="internal"></ul></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Library</li><li><a href>DAT</a></li></ul><a class="edit-page" href="https://github.com/esa-esdl/ESDL.jl/blob/master/docs/src/lib/dat.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>DAT</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="lib_dat-1" href="#lib_dat-1">DAT</a></h1><ul><li><a href="#ESDL.DAT.DATConfig"><code>ESDL.DAT.DATConfig</code></a></li><li><a href="../../analysis/#ESDL.DAT.InDims"><code>ESDL.DAT.InDims</code></a></li><li><a href="#ESDL.DAT.InnerObj"><code>ESDL.DAT.InnerObj</code></a></li><li><a href="#ESDL.DAT.InputCube"><code>ESDL.DAT.InputCube</code></a></li><li><a href="../../analysis/#ESDL.DAT.OutDims"><code>ESDL.DAT.OutDims</code></a></li><li><a href="#ESDL.DAT.OutputCube"><code>ESDL.DAT.OutputCube</code></a></li><li><a href="#ESDL.DAT.cmpcachmisses-Tuple{Any,Any}"><code>ESDL.DAT.cmpcachmisses</code></a></li><li><a href="#ESDL.DAT.fittable-Tuple{Any,Any,Any}"><code>ESDL.DAT.fittable</code></a></li><li><a href="#ESDL.DAT.getFrontPerm-Union{Tuple{T}, Tuple{AbstractCubeData{T,N} where N,Any}} where T"><code>ESDL.DAT.getFrontPerm</code></a></li><li><a href="#ESDL.DAT.getLoopCacheSize-NTuple{4,Any}"><code>ESDL.DAT.getLoopCacheSize</code></a></li><li><a href="../../analysis/#ESDL.DAT.mapCube"><code>ESDL.DAT.mapCube</code></a></li><li><a href="#ESDL.DAT.mapCube-Tuple{Function,Tuple,Vararg{Any,N} where N}"><code>ESDL.DAT.mapCube</code></a></li><li><a href="#ESDL.DAT.@CubeTable-Tuple"><code>ESDL.DAT.@CubeTable</code></a></li></ul><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ESDL.DAT.InputCube" href="#ESDL.DAT.InputCube"><code>ESDL.DAT.InputCube</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Internal representation of an input cube for DAT operations</p></div></div><a class="source-link" target="_blank" href="https://github.com/esa-esdl/ESDL.jl/blob/5e665fa4595dbd15c84425ee7c61ccaf43f5573b/src/DAT/DAT.jl#L32-L34">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ESDL.DAT.OutputCube" href="#ESDL.DAT.OutputCube"><code>ESDL.DAT.OutputCube</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Internal representation of an output cube for DAT operations</p></div></div><a class="source-link" target="_blank" href="https://github.com/esa-esdl/ESDL.jl/blob/5e665fa4595dbd15c84425ee7c61ccaf43f5573b/src/DAT/DAT.jl#L62-L64">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ESDL.DAT.fittable-Tuple{Any,Any,Any}" href="#ESDL.DAT.fittable-Tuple{Any,Any,Any}"><code>ESDL.DAT.fittable</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">fittable(tab,o,fitsym;by=(),weight=nothing)</code></pre><p>Loops through an iterable table <code>tab</code> and thereby fitting an OnlineStat <code>o</code> with the values specified through <code>fitsym</code>. Optionally one can specify a field (or tuple) to group by. Any groupby specifier can either be a symbol denoting the entry to group by or an anynymous function calculating the group from a table row.</p><p>For example the following would caluclate a weighted mean over a cube weighted by grid cell area and grouped by country and month</p><pre><code class="language-julia">fittable(iter,WeightedMean,:tair,weight=(i-&gt;cosd(i.lat)),by=(i-&gt;month(i.time),:country))</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/esa-esdl/ESDL.jl/blob/5e665fa4595dbd15c84425ee7c61ccaf43f5573b/src/DAT/tablestats.jl#L207-L221">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ESDL.DAT.mapCube-Tuple{Function,Tuple,Vararg{Any,N} where N}" href="#ESDL.DAT.mapCube-Tuple{Function,Tuple,Vararg{Any,N} where N}"><code>ESDL.DAT.mapCube</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">mapCube(fun, cube, addargs...;kwargs)</code></pre><p>Map a given function <code>fun</code> over slices of the data cube <code>cube</code>.</p><p><strong>Keyword arguments</strong></p><ul><li><code>max_cache=1e7</code> maximum size of blocks that are read into memory, defaults to approx 10Mb</li><li><code>outtype::DataType</code> output data type of the operation</li><li><code>indims::InDims</code> List of input cube descriptors of type <a href="#ESDL.DAT.InDims"><code>InDims</code></a> for each input data cube</li><li><code>outdims::OutDims</code> List of output cube descriptors of type <a href="#ESDL.DAT.OutDims"><code>OutDims</code></a> for each output cube</li><li><code>inplace</code> does the function write to an output array inplace or return a single value&gt; defaults to <code>true</code></li><li><code>ispar</code> boolean to determine if parallelisation should be applied, defaults to <code>true</code> if workers are available.</li><li><code>outfolder</code> a folder where the output cube is stroed, defaults to the result of <code>ESDLdir()</code></li><li><code>showprog</code> boolean indicating if a ProgressMeter shall be shown <a href="cube_access/#ESDL.Cubes.AbstractCubeData"><code>ESDL.Cubes.AbstractCubeData</code></a></li><li><code>kwargs</code> additional keyword arguments passed to the inner function</li></ul><p>The first argument is always the function to be applied, the second is the input cube or a tuple input cubes if needed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/esa-esdl/ESDL.jl/blob/5e665fa4595dbd15c84425ee7c61ccaf43f5573b/src/DAT/DAT.jl#L192-L211">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ESDL.DAT.@CubeTable-Tuple" href="#ESDL.DAT.@CubeTable-Tuple"><code>ESDL.DAT.@CubeTable</code></a> — <span class="docstring-category">Macro</span>.</div><div><div><pre><code class="language-none">@CubeTable input_vars...</code></pre><p>Macro to turn a DataCube object into an iterable table. Takes a list of as arguments, specified either by a cube variable name alone or by a <code>name=cube</code> expression. For example <code>@CubeTable cube1 country=cube2</code> would generate a Table with the entries <code>cube1</code> and <code>country</code>, where <code>cube1</code> contains the values of <code>cube1</code> and <code>country</code> the values of <code>cube2</code>. The cubes are matched and broadcasted along their axes like in <code>mapCube</code>.</p><p>In addition, one can specify <code>axes=(ax1,ax2...)</code> when one wants to include the values of certain xes in the table. For example the command <code>@CubeTable tair=cube1 axes=(lon,lat,time)</code> would produce an iterator over a data structure with entries <code>tair</code>, <code>lon</code>, <code>lat</code> and <code>time</code>.</p><p>Lastly there is an option to specify which axis shall be the fastest changing when iterating over the cube. For example <code>@CubeTable cube1 fastest=time</code> will ensure that the iterator will always loop over consecutive time steps of the same location.</p></div></div><a class="source-link" target="_blank" href="https://github.com/esa-esdl/ESDL.jl/blob/5e665fa4595dbd15c84425ee7c61ccaf43f5573b/src/DAT/dciterators.jl#L215-L232">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ESDL.DAT.DATConfig" href="#ESDL.DAT.DATConfig"><code>ESDL.DAT.DATConfig</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Configuration object of a DAT process. This holds all necessary information to perform the calculations It contains the following fields:</p><ul><li><code>incubes::Vector{AbstractCubeData}</code> The input data cubes</li><li><code>outcube::AbstractCubeData</code> The output data cube</li><li><code>indims::Vector{Tuple}</code> Tuples of input axis types</li><li><code>outdims::Tuple</code> Tuple of output axis types</li><li><code>axlists::Vector{Vector{CubeAxis}}</code> Axes of the input data cubes</li><li><code>inAxes::Vector{Vector{CubeAxis}}</code></li><li>outAxes::Vector{CubeAxis}</li><li>LoopAxes::Vector{CubeAxis}</li><li>axlistOut::Vector{CubeAxis}</li><li>ispar::Bool</li><li>isMem::Vector{Bool}</li><li>inCubesH</li><li>outCubeH</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/esa-esdl/ESDL.jl/blob/5e665fa4595dbd15c84425ee7c61ccaf43f5573b/src/DAT/DAT.jl#L95-L113">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ESDL.DAT.InnerObj" href="#ESDL.DAT.InnerObj"><code>ESDL.DAT.InnerObj</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Object to pass to InnerLoop, this condenses the most important information about the calculation into a type so that specific code can be generated by the @generated function</p></div></div><a class="source-link" target="_blank" href="https://github.com/esa-esdl/ESDL.jl/blob/5e665fa4595dbd15c84425ee7c61ccaf43f5573b/src/DAT/DAT.jl#L158-L161">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ESDL.DAT.cmpcachmisses-Tuple{Any,Any}" href="#ESDL.DAT.cmpcachmisses-Tuple{Any,Any}"><code>ESDL.DAT.cmpcachmisses</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Function that compares two cache miss specifiers by their importance</p></div></div><a class="source-link" target="_blank" href="https://github.com/esa-esdl/ESDL.jl/blob/5e665fa4595dbd15c84425ee7c61ccaf43f5573b/src/DAT/DAT.jl#L439-L441">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ESDL.DAT.getFrontPerm-Union{Tuple{T}, Tuple{AbstractCubeData{T,N} where N,Any}} where T" href="#ESDL.DAT.getFrontPerm-Union{Tuple{T}, Tuple{AbstractCubeData{T,N} where N,Any}} where T"><code>ESDL.DAT.getFrontPerm</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Calculate an axis permutation that brings the wanted dimensions to the front</p></div></div><a class="source-link" target="_blank" href="https://github.com/esa-esdl/ESDL.jl/blob/5e665fa4595dbd15c84425ee7c61ccaf43f5573b/src/DAT/DAT.jl#L661">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ESDL.DAT.getLoopCacheSize-NTuple{4,Any}" href="#ESDL.DAT.getLoopCacheSize-NTuple{4,Any}"><code>ESDL.DAT.getLoopCacheSize</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Calculate optimal Cache size to DAT operation</p></div></div><a class="source-link" target="_blank" href="https://github.com/esa-esdl/ESDL.jl/blob/5e665fa4595dbd15c84425ee7c61ccaf43f5573b/src/DAT/DAT.jl#L489">source</a></section><footer><hr/><a class="previous" href="../proc/"><span class="direction">Previous</span><span class="title">Proc</span></a></footer></article></body></html>
